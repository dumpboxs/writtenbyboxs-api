model BlogBanner {
  id        String @id @default(uuid())
  publicId  String
  url       String
  secureUrl String
  width     Int
  height    Int

  blog Blog[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("blog_banners")
}

enum BlogStatus {
  PUBLISHED
  DRAFT

  @@map("blog_status")
}

model Blog {
  id            String     @id @default(uuid())
  authorId      String
  bannerId      String
  title         String
  description   String
  slug          String     @unique
  content       String     @db.Text
  status        BlogStatus @default(DRAFT)
  viewsCount    Int        @default(0)
  likesCount    Int        @default(0)
  commentsCount Int        @default(0)

  author User       @relation(fields: [authorId], references: [id], onDelete: Cascade)
  banner BlogBanner @relation(fields: [bannerId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([id, bannerId])
  @@index([title])
  @@map("blogs")
}
