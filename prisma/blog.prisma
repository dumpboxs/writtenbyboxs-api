enum BlogStatus {
  PUBLISHED
  DRAFT

  @@map("blog_status")
}

model Blog {
  id            String     @id @default(uuid())
  authorId      String
  title         String
  description   String
  slug          String     @unique
  content       String     @db.Text
  status        BlogStatus @default(DRAFT)
  viewsCount    Int        @default(0)
  likesCount    Int        @default(0)
  commentsCount Int        @default(0)

  author User @relation(fields: [authorId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([title])
  @@index([content])
  @@map("blogs")
}
